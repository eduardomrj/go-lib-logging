; /**
;  * Arquivo de Configuração de Log
;  *
;  * @version    16.0.0
;  * @author     Assistente Gemini - Madbuilder / Adianti v2.0
;  * @copyright  Copyright (c) 2025-08-26
;  * @date       2025-08-12 11:32:00 (criação)
;  * @date       2025-08-26 11:20:00 (alteração)
;  * @description Define os parâmetros para o sistema de log e tratamento de erros.
;  */

[logging]
; --- Configurações Gerais da Aplicação ---
; environment: Define o modo de operação.
;   "development": Ideal para desenvolvimento. Mostra erros detalhados.
;   "production": Para o ambiente de produção. Esconde detalhes técnicos dos usuários.
environment = "development"

; whoops: Ativa (1) ou desativa (0) a tela de erro visualmente rica do Whoops.
;   Só funciona se environment = "development".
whoops = 1

; ==============================================================================
; ESTRATÉGIA DE NOTIFICAÇÃO
; Define COMO e QUANDO as notificações (Discord, Email) são enviadas.
; ==============================================================================

[notification_strategy]
; --- Estratégia "FingersCrossed" (Acumular e Disparar) ---
; use_fingers_crossed: Ativa (1) ou desativa (0) o modo "dedos cruzados".
;   Se ativado, a biblioteca captura TODOS os logs (até mesmo DEBUG) e os guarda
;   em memória. Nenhuma notificação é enviada até que um erro do nível
;   'trigger_level' ocorra. Quando ocorre, o erro + TODO o histórico de logs
;   acumulado são enviados de uma só vez, dando um contexto completo do problema.
;   Útil para depurar erros complexos em produção sem gerar ruído.
use_fingers_crossed = 0
trigger_level = "ERROR"

; --- Estratégia para Warnings (Avisos) ---
; log_warnings_enabled: É o interruptor GERAL para notificações de Warnings.
;   Se ativado (1), permite que Warnings (ex: variável não definida) sejam
;   enviados como notificação. Para evitar spam, ele ativa AUTOMATICAMENTE
;   um agrupador (DeduplicationHandler).
;   Se desativado (0), Warnings NUNCA serão enviados como notificação,
;   independentemente do 'level' configurado nos handlers abaixo.
log_warnings_enabled = 1

; deduplication_time: Período (em segundos) que o agrupador usa para evitar
;   o envio de Warnings idênticos e repetidos.
deduplication_time = 300


; ==============================================================================
; CONFIGURAÇÃO INDIVIDUAL DOS HANDLERS (CANAIS DE LOG)
; Cada seção abaixo representa um "destino" para os logs.
; ==============================================================================

[file_handler]
; --- Log em Arquivo ---
enabled = 1
path = "app/logs/monolog-logging.log"
days = 7
; level: O filtro de entrada para ESTE handler. Define o nível MÍNIMO que
;   será registrado no arquivo. "DEBUG" significa que TUDO será salvo.
level = "DEBUG"

[discord_handler]
; --- Notificações via Discord ---
enabled = 1
webhook_url = "https://discord.com/api/webhooks/SEU_WEBHOOK_AQUI"
max_per_minute = 6
; level: O filtro de entrada para o Discord. Define o nível MÍNIMO para
;   enviar uma notificação. Se 'log_warnings_enabled' for 0, esta opção
;   NUNCA poderá ser "WARNING" ou inferior na prática.
;   Ex: "ERROR" envia apenas erros graves.
level = "ERROR"

[email_handler]
; --- Notificações via Email ---
enabled = 0
to_address   = "seu-email@provedor.com.br"
subject      = "[ERRO CRÍTICO] - Aplicação {app_name} em {environment}"
; level: O filtro de entrada para o Email. Define o nível MÍNIMO para
;   enviar um e-mail. "CRITICAL" é uma boa prática para e-mails,
;   reservando-os para os erros mais graves.
level = "CRITICAL"
